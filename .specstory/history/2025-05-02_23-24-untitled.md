<!-- Generated by SpecStory -->

# Untitled (2025-05-02 17:24:47)

_**User**_

/Generate Cursor Rules 

---

_**Assistant**_

I'll help you generate Cursor rules to help AI assistants navigate and understand your project. Let me analyze your project structure to create informative rules.

---

<details>
            <summary>Listed current directory â€¢ **18** results</summary>
        
| Name |
|-------|
| ğŸ“ `.git` |
| ğŸ“„ `.gitignore` |
| ğŸ“„ `.cursorindexingignore` |
| ğŸ“ `.specstory` |
| ğŸ“ `src` |
| ğŸ“„ `tsconfig.json` |
| ğŸ“„ `package-lock.json` |
| ğŸ“„ `package.json` |
| ğŸ“„ `.prettierrc` |
| ğŸ“„ `.release-please-config.json` |
| ğŸ“„ `.release-please-manifest.json` |
| ğŸ“„ `CHANGELOG.md` |
| ğŸ“„ `LICENSE` |
| ğŸ“„ `README.md` |
| ğŸ“„ `eslint.config.js` |
| ğŸ“ `.cursor` |
| ğŸ“„ `.editorconfig` |
| ğŸ“ `.github` |

</details>

---

Let's first check the package.json to understand what kind of project this is:

---

Read file: package.json

---

Now let's check the README to understand the project better:

---

Read file: README.md

---

Let's look at the src directory structure to understand the framework components:

---

<details>
            <summary>Listed directory src â€¢ **10** results</summary>
        
| Name |
|-------|
| ğŸ“ `transports` |
| ğŸ“ `utils` |
| ğŸ“ `loaders` |
| ğŸ“ `prompts` |
| ğŸ“ `resources` |
| ğŸ“ `tools` |
| ğŸ“ `cli` |
| ğŸ“ `core` |
| ğŸ“„ `index.ts` |
| ğŸ“ `auth` |

</details>

---

Let's look at the main index.ts file:

---

Read file: src/index.ts

---

Let's also look at the MCPServer class to understand the core functionality:

---

Read file: src/core/MCPServer.ts

---

Let's look at one of the base classes for tools:

---

Read file: src/tools/BaseTool.ts

---

Let's also check an example tool or other component:

---

<details>
            <summary>Listed directory .cursor/rules â€¢ **1** results</summary>
        
| Name |
|-------|
| ğŸ“„ `mcp-framework.mdc` |

</details>

---

Read file: .cursor/rules/mcp-framework.mdc

---

Now I have a good understanding of the project. Let's create Cursor rules to help AI assistant navigate this codebase effectively:

---

```diff
- We are in the mcp-framework , a typescript framework that allows construction of model context protocol (mcp) servers.
- We are implementing the new specification:
- <specification>Overview 
- MCP provides a standardized way for applications to:
- 
- Share contextual information with language models
- Expose tools and capabilities to AI systems
- Build composable integrations and workflows
- The protocol uses JSON-RPC 2.0 messages to establish communication between:
- 
- Hosts: LLM applications that initiate connections
- Clients: Connectors within the host application
- Servers: Services that provide context and capabilities
- MCP takes some inspiration from the Language Server Protocol, which standardizes how to add support for programming languages across a whole ecosystem of development tools. In a similar way, MCP standardizes how to integrate additional context and tools into the ecosystem of AI applications.
- 
- Key Details 
- Base Protocol 
- JSON-RPC message format
- Stateful connections
- Server and client capability negotiation
- Features 
- Servers offer any of the following features to clients:
- 
- Resources: Context and data, for the user or the AI model to use
- Prompts: Templated messages and workflows for users
- Tools: Functions for the AI model to execute</specification>
+ # MCP Framework
+ 
+ MCP Framework is a TypeScript framework for building Model Context Protocol (MCP) servers that connect AI models with external tools and data.
+ 
+ ## Project Structure
+ 
+ - **Entry Point**: [src/index.ts](mdc:src/index.ts) - Main exports from the framework
+ - **Core Server**: [src/core/MCPServer.ts](mdc:src/core/MCPServer.ts) - Central server implementation that handles MCP protocol
+ 
+ ## Key Components
+ 
+ ### Core Components
+ 
+ - **Server**: [src/core/MCPServer.ts](mdc:src/core/MCPServer.ts) - Main server implementation
+ - **Logger**: [src/core/Logger.ts](mdc:src/core/Logger.ts) - Logging functionality
+ 
+ ### Base Classes
+ 
+ - **Tools**: [src/tools/BaseTool.ts](mdc:src/tools/BaseTool.ts) - Base class for creating tool implementations
+ - **Resources**: [src/resources/BaseResource.ts](mdc:src/resources/BaseResource.ts) - Base class for resource implementations
+ - **Prompts**: [src/prompts/BasePrompt.ts](mdc:src/prompts/BasePrompt.ts) - Base class for prompt implementations
+ 
+ ### Transport Layers
+ 
+ - **Base Transport**: [src/transports/base.ts](mdc:src/transports/base.ts) - Transport interface
+ - **Stdio Transport**: [src/transports/stdio/server.ts](mdc:src/transports/stdio/server.ts) - Standard I/O transport
+ - **SSE Transport**: [src/transports/sse/server.ts](mdc:src/transports/sse/server.ts) - Server-Sent Events transport
+ - **HTTP Stream Transport**: [src/transports/http/server.ts](mdc:src/transports/http/server.ts) - HTTP streaming transport
+ 
+ ### Loaders
+ 
+ - **Tool Loader**: [src/loaders/toolLoader.ts](mdc:src/loaders/toolLoader.ts) - Dynamically loads tools
+ - **Prompt Loader**: [src/loaders/promptLoader.ts](mdc:src/loaders/promptLoader.ts) - Dynamically loads prompts
+ - **Resource Loader**: [src/loaders/resourceLoader.ts](mdc:src/loaders/resourceLoader.ts) - Dynamically loads resources
+ 
+ ### CLI
+ 
+ - **CLI Entry**: [src/cli/index.ts](mdc:src/cli/index.ts) - Command-line interface entry point
+ - **Project Creation**: [src/cli/project/createProject.ts](mdc:src/cli/project/createProject.ts) - Project scaffolding
+ - **Templates**: [src/cli/templates](mdc:src/cli/templates) - Project and component templates
+ 
+ ### Authentication
+ 
+ - **Auth Providers**: [src/auth/providers](mdc:src/auth/providers) - Authentication implementations
+ 
+ ## Development Workflow
+ 
+ 1. Create project with CLI: `mcp create my-project`
+ 2. Add tools/prompts/resources: `mcp add tool my-tool`
+ 3. Implement functionality by extending base classes
+ 4. Configure server with appropriate transport
+ 5. Build and run
  
```

---

Let's create another rule to explain the MCP protocol and how the framework implements it:

---

```diff
- 
+ # Model Context Protocol (MCP) Guide
+ 
+ The Model Context Protocol (MCP) is a standard for enabling AI models to interact with external tools, resources, and context.
+ 
+ ## Protocol Overview
+ 
+ MCP provides a standardized way for applications to:
+ - Share contextual information with language models
+ - Expose tools and capabilities to AI systems
+ - Build composable integrations and workflows
+ 
+ The protocol uses JSON-RPC 2.0 messages to establish communication between:
+ - **Hosts**: LLM applications that initiate connections
+ - **Clients**: Connectors within the host application
+ - **Servers**: Services that provide context and capabilities
+ 
+ ## Core Features
+ 
+ MCP servers can provide three main types of functionality:
+ 
+ 1. **Tools**: Functions that AI models can execute
+    - Implementation: [src/tools/BaseTool.ts](mdc:src/tools/BaseTool.ts)
+    - Usage: Create tools by extending `MCPTool` class
+ 
+ 2. **Resources**: Context and data for use by models or users
+    - Implementation: [src/resources/BaseResource.ts](mdc:src/resources/BaseResource.ts)
+    - Usage: Create resources by extending `MCPResource` class
+ 
+ 3. **Prompts**: Templated messages and workflows
+    - Implementation: [src/prompts/BasePrompt.ts](mdc:src/prompts/BasePrompt.ts)
+    - Usage: Create prompts by extending `MCPPrompt` class
+ 
+ ## Transport Mechanisms
+ 
+ The framework supports multiple transport layers:
+ 
+ 1. **stdio**: Standard input/output (default)
+    - Implementation: [src/transports/stdio/server.ts](mdc:src/transports/stdio/server.ts)
+    - Used when embedding the server directly in applications
+ 
+ 2. **SSE**: Server-Sent Events over HTTP
+    - Implementation: [src/transports/sse/server.ts](mdc:src/transports/sse/server.ts)
+    - Useful for web-based integrations
+ 
+ 3. **HTTP Stream**: HTTP streaming transport
+    - Implementation: [src/transports/http/server.ts](mdc:src/transports/http/server.ts)
+    - Best for high-throughput applications
+ 
+ ## Protocol Implementation
+ 
+ The MCP protocol handling is implemented in:
+ - [src/core/MCPServer.ts](mdc:src/core/MCPServer.ts) - Core server implementation
+ - [src/transports/utils/jsonrpc.ts](mdc:src/transports/utils/jsonrpc.ts) - JSON-RPC utilities
+ 
+ ## Authentication
+ 
+ MCP supports authentication for securing transport connections:
+ - Auth configs: [src/auth/types.ts](mdc:src/auth/types.ts)
+ - Providers: [src/auth/providers](mdc:src/auth/providers)
+ 
```

---

Let's create a rule for CLI usage and tool development:

---

```diff
- 
+ # CLI Usage and Development Guide
+ 
+ This guide covers the CLI functionality and development patterns for the MCP Framework.
+ 
+ ## CLI Tool
+ 
+ The MCP Framework includes a CLI tool for creating and managing MCP server projects.
+ 
+ - **CLI Entry Point**: [src/cli/index.ts](mdc:src/cli/index.ts)
+ - **Commands Implementation**: [src/cli/framework](mdc:src/cli/framework)
+ 
+ ### Common Commands
+ 
+ 1. **Create Project**
+    ```bash
+    mcp create my-project
+    ```
+    Implementation: [src/cli/project/createProject.ts](mdc:src/cli/project/createProject.ts)
+ 
+ 2. **Add Tool/Prompt/Resource**
+    ```bash
+    mcp add tool my-tool
+    mcp add prompt my-prompt
+    mcp add resource my-resource
+    ```
+    Implementation: [src/cli/project/addComponent.ts](mdc:src/cli/project/addComponent.ts)
+ 
+ ### Project Templates
+ 
+ Project templates are stored in [src/cli/templates](mdc:src/cli/templates) and include:
+ - Base project structure
+ - Tool, Prompt, and Resource templates
+ - Transport configuration templates
+ 
+ ## Development Patterns
+ 
+ ### Creating a Tool
+ 
+ 1. Create tool file (manually or with CLI):
+    ```bash
+    mcp add tool example-tool
+    ```
+ 
+ 2. Implement using the `MCPTool` base class:
+    ```typescript
+    import { MCPTool } from "mcp-framework";
+    import { z } from "zod";
+ 
+    interface ExampleInput {
+      message: string;
+    }
+ 
+    class ExampleTool extends MCPTool<ExampleInput> {
+      name = "example_tool";
+      description = "An example tool that processes messages";
+ 
+      schema = {
+        message: {
+          type: z.string(),
+          description: "Message to process",
+        },
+      };
+ 
+      async execute(input: ExampleInput) {
+        return `Processed: ${input.message}`;
+      }
+    }
+ 
+    export default ExampleTool;
+    ```
+ 
+ 3. Tool will be automatically loaded by the framework if placed in the correct directory.
+ 
+ ### Server Configuration
+ 
+ Configure servers with different transports:
+ 
+ ```typescript
+ // Default stdio transport
+ const server = new MCPServer();
+ 
+ // SSE transport
+ const server = new MCPServer({
+   transport: {
+     type: "sse",
+     options: {
+       port: 8080
+     }
+   }
+ });
+ 
+ // HTTP Stream transport
+ const server = new MCPServer({
+   transport: {
+     type: "http-stream",
+     options: {
+       port: 8080
+     }
+   }
+ });
+ ```
+ 
+ ### Authentication
+ 
+ Enable authentication for SSE or HTTP transports:
+ 
+ ```typescript
+ const server = new MCPServer({
+   transport: {
+     type: "sse",
+     options: {
+       port: 8080
+     },
+     auth: {
+       type: "jwt",
+       secret: "your-secret-key"
+     }
+   }
+ });
+ 
```

---

Let's create one more rule to cover the installation

---

